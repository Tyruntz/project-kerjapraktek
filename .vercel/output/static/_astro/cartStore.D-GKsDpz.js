import{r as d}from"./index.CZlPm10g.js";let n=[],y=(s,i)=>{let u=[],e={get(){return e.lc||e.listen(()=>{})(),e.value},l:0,lc:0,listen(t,r){return e.lc=u.push(t,r||e.l)/2,()=>{let a=u.indexOf(t);~a&&(u.splice(a,2),--e.lc||e.off())}},notify(t,r){let a=!n.length;for(let l=0;l<u.length;l+=2)n.push(u[l],u[l+1],e.value,t,r);if(a){for(let l=0;l<n.length;l+=5){let o;for(let c=l+1;!o&&(c+=5)<n.length;)n[c]<n[l+1]&&(o=n.push(n[l],n[l+1],n[l+2],n[l+3],n[l+4]));o||n[l](n[l+2],n[l+3],n[l+4])}n.length=0}},off(){},set(t){let r=e.value;r!==t&&(e.value=t,e.notify(r))},subscribe(t,r){let a=e.listen(t,r);return t(e.value),a},value:s};return e};function g(s,i,u){let e=new Set([...i,void 0]);return s.listen((t,r,a)=>{e.has(a)&&u(t,r,a)})}function p(s,i={}){let u=d.useCallback(t=>i.keys?g(s,i.keys,t):s.listen(t),[i.keys,s]),e=s.get.bind(s);return d.useSyncExternalStore(u,e,e)}const v=y(!1),f=y([]),x=s=>{const i=f.get();if(i.findIndex(e=>e.id===s.id)!==-1){const e=i.map(t=>t.id===s.id?{...t,quantity:t.quantity+1}:t);f.set(e)}else f.set([...i,{...s,quantity:1}]);console.log("cartItems",f.get())},b=s=>{f.set(f.get().filter(i=>i.id!==s))};export{x as a,f as c,v as i,b as r,p as u};
